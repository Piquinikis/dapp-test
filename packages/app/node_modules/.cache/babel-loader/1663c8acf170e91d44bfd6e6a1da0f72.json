{"ast":null,"code":"var _jsxFileName = \"/Users/drussian/Projects/dapp-test/packages/app/src/components/Balance.tsx\";\nimport React, { createContext, useState, useContext } from 'react';\nimport { Message } from './Message';\nimport SocketService from '../utils/SocketService';\nimport Token from '../models/Token';\nconst SocketIOContext = createContext({\n  url: 'http://127.0.0.1:7000'\n});\n\nconst Balance = () => {\n  const [token, setToken] = useState(new Token(''));\n  const [inputValue, setInputValue] = useState();\n  const [message, setMessage] = useState({\n    show: false,\n    text: '',\n    type: ''\n  });\n  const {\n    url\n  } = useContext(SocketIOContext);\n  const socketService = new SocketService(url);\n\n  const handleInputChange = e => {\n    setInputValue(e.currentTarget.value);\n  };\n\n  const checkToken = () => {\n    token.value = inputValue;\n    token.validate();\n\n    if (token.valid) {\n      setMessage({\n        show: true,\n        text: 'Connecting ...',\n        type: 'info'\n      });\n      setToken(token);\n      socketService.send(\"message\", token.value);\n      socketService.on(\"message\", data => {\n        setMessage({\n          show: true,\n          text: 'Connected!',\n          type: 'success'\n        });\n        console.log(data);\n      });\n    } else {\n      setMessage({\n        show: true,\n        text: 'Wrong token format.',\n        type: 'error'\n      });\n    }\n  };\n\n  const cleanToken = () => {\n    setInputValue('');\n    setToken(new Token());\n    setMessage({\n      show: true,\n      text: 'Disconnected from server.',\n      type: 'info'\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"input\", {\n    type: \"text\",\n    value: inputValue,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"btn-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: 'btn btn-primary waves-effect waves-light',\n    onClick: checkToken,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Lookup\"), React.createElement(\"button\", {\n    className: 'btn btn-info waves-effect waves-light',\n    onClick: cleanToken,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Clean\")), React.createElement(Message, {\n    show: message.show,\n    message: message.text,\n    type: message.type,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }));\n};\n\nexport default Balance;","map":{"version":3,"sources":["/Users/drussian/Projects/dapp-test/packages/app/src/components/Balance.tsx"],"names":["React","createContext","useState","useContext","Message","SocketService","Token","SocketIOContext","url","Balance","token","setToken","inputValue","setInputValue","message","setMessage","show","text","type","socketService","handleInputChange","e","currentTarget","value","checkToken","validate","valid","send","on","data","console","log","cleanToken"],"mappings":"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","sourcesContent":["import React, {FunctionComponent, createContext, useState, useContext} from 'react'\nimport { Message } from './Message'\nimport SocketService from '../utils/SocketService'\nimport Token from '../models/Token'\n\nconst SocketIOContext = createContext({ url: 'http://127.0.0.1:7000' });\n\nconst Balance:FunctionComponent = () => {\n    const [token, setToken] = useState(new Token(''))\n    const [inputValue, setInputValue] = useState()\n    const [message, setMessage] = useState({ show:false, text: '', type: ''})\n\n    const { url } = useContext(SocketIOContext)\n    const socketService = new SocketService(url)\n\n    const handleInputChange = (e:React.FormEvent<HTMLInputElement>) => {\n        setInputValue(e.currentTarget.value)\n    }\n\n    const checkToken = () => {\n        token.value = inputValue\n        token.validate()\n\n        if (token.valid) {\n            setMessage({\n                show: true,\n                text: 'Connecting ...',\n                type: 'info'\n            })\n\n            setToken(token)\n\n            socketService.send(\"message\", token.value)\n\n            socketService.on(\"message\", (data: any) => {\n                setMessage({\n                    show: true,\n                    text: 'Connected!',\n                    type: 'success'\n                })\n\n                console.log(data)\n            });\n        } else {\n            setMessage({\n                show: true,\n                text: 'Wrong token format.',\n                type: 'error'\n            })\n        }\n    }\n\n    const cleanToken = () => {\n        setInputValue('')\n        setToken(new Token())\n\n        setMessage({\n            show: true,\n            text: 'Disconnected from server.',\n            type: 'info'\n        })\n    }\n\n    return (\n        <>\n            <input type=\"text\" value={inputValue} onChange={handleInputChange}/>\n\n            <div className=\"btn-group\">\n                <button className={'btn btn-primary waves-effect waves-light'} onClick={checkToken}>Lookup</button>\n                <button className={'btn btn-info waves-effect waves-light'} onClick={cleanToken}>Clean</button>\n            </div>\n\n            <Message show={message.show} message={message.text} type={message.type} />\n        </>\n    )\n}\n\nexport default Balance\n"]},"metadata":{},"sourceType":"module"}