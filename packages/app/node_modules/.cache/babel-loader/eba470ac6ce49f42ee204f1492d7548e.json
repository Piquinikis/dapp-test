{"ast":null,"code":"var _jsxFileName = \"/Users/drussian/Projects/dapp-test/packages/app/src/components/Balance.tsx\";\nimport React, { useState } from 'react';\nimport { Message } from './Message';\nimport Token from '../models/Token'; // @ts-ignore\n\nimport socketIOClient from 'socket.io-client';\n\nconst Balance = () => {\n  const [token, setToken] = useState(new Token());\n  const [inputValue, setInputValue] = useState();\n  const [tokenMessage, setTokenMessage] = useState(false);\n  const [endpoint] = useState('http://127.0.0.1:7000');\n  const socket = socketIOClient(endpoint);\n  socket.on(\"message\", data => console.log(data));\n\n  const handleInputChange = e => {\n    setInputValue(e.currentTarget.value);\n  };\n\n  const checkToken = () => {\n    token.value = inputValue;\n    token.validate();\n    setTokenMessage(!token.valid);\n\n    if (token.valid) {\n      setToken(token);\n      socket.emit(\"message\", token.value);\n    }\n  };\n\n  const cleanToken = () => {\n    setInputValue('');\n    setToken(new Token());\n    socket.disconnect();\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"input\", {\n    type: \"text\",\n    value: inputValue,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"btn-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: 'btn btn-primary waves-effect waves-light',\n    onClick: checkToken,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Lookup\"), React.createElement(\"button\", {\n    className: 'btn btn-info waves-effect waves-light',\n    onClick: cleanToken,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Clean\")), React.createElement(Message, {\n    show: tokenMessage,\n    message: 'The entry token is not a valid ECR20 token',\n    type: 'error',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }));\n};\n\nexport default Balance;","map":{"version":3,"sources":["/Users/drussian/Projects/dapp-test/packages/app/src/components/Balance.tsx"],"names":["React","useState","Message","Token","socketIOClient","Balance","token","setToken","inputValue","setInputValue","tokenMessage","setTokenMessage","endpoint","socket","on","data","console","log","handleInputChange","e","currentTarget","value","checkToken","validate","valid","emit","cleanToken","disconnect"],"mappings":";AAAA,OAAOA,KAAP,IAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,OAAOC,KAAP,MAAkB,iBAAlB,C,CAEA;;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AAEA,MAAMC,OAAyB,GAAG,MAAM;AACpC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,IAAIE,KAAJ,EAAD,CAAlC;AACA,QAAM,CAACK,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,EAA5C;AACA,QAAM,CAACS,YAAD,EAAeC,eAAf,IAAkCV,QAAQ,CAAC,KAAD,CAAhD;AAGA,QAAM,CAACW,QAAD,IAAaX,QAAQ,CAAC,uBAAD,CAA3B;AAEA,QAAMY,MAAM,GAAGT,cAAc,CAACQ,QAAD,CAA7B;AACAC,EAAAA,MAAM,CAACC,EAAP,CAAU,SAAV,EAAsBC,IAAD,IAAeC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAApC;;AAEA,QAAMG,iBAAiB,GAAIC,CAAD,IAAyC;AAC/DV,IAAAA,aAAa,CAACU,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CAAb;AACH,GAFD;;AAIA,QAAMC,UAAU,GAAG,MAAM;AACrBhB,IAAAA,KAAK,CAACe,KAAN,GAAcb,UAAd;AACAF,IAAAA,KAAK,CAACiB,QAAN;AAEAZ,IAAAA,eAAe,CAAC,CAACL,KAAK,CAACkB,KAAR,CAAf;;AAEA,QAAIlB,KAAK,CAACkB,KAAV,EAAiB;AACbjB,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACAO,MAAAA,MAAM,CAACY,IAAP,CAAY,SAAZ,EAAuBnB,KAAK,CAACe,KAA7B;AACH;AACJ,GAVD;;AAYA,QAAMK,UAAU,GAAG,MAAM;AACrBjB,IAAAA,aAAa,CAAC,EAAD,CAAb;AACAF,IAAAA,QAAQ,CAAC,IAAIJ,KAAJ,EAAD,CAAR;AAEAU,IAAAA,MAAM,CAACc,UAAP;AACH,GALD;;AAOA,SACI,0CACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAEnB,UAA1B;AAAsC,IAAA,QAAQ,EAAEU,iBAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAE,0CAAnB;AAA+D,IAAA,OAAO,EAAEI,UAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEI;AAAQ,IAAA,SAAS,EAAE,uCAAnB;AAA4D,IAAA,OAAO,EAAEI,UAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,CAHJ,EAQI,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAEhB,YAAf;AAA6B,IAAA,OAAO,EAAE,4CAAtC;AAAoF,IAAA,IAAI,EAAE,OAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,CADJ;AAYH,CA9CD;;AAgDA,eAAeL,OAAf","sourcesContent":["import React, { FunctionComponent, useState } from 'react'\nimport { Message } from './Message'\nimport Token from '../models/Token'\n\n// @ts-ignore\nimport socketIOClient from 'socket.io-client'\n\nconst Balance:FunctionComponent = () => {\n    const [token, setToken] = useState(new Token())\n    const [inputValue, setInputValue] = useState()\n    const [tokenMessage, setTokenMessage] = useState(false)\n\n\n    const [endpoint] = useState('http://127.0.0.1:7000')\n\n    const socket = socketIOClient(endpoint);\n    socket.on(\"message\", (data: any) => console.log(data));\n\n    const handleInputChange = (e:React.FormEvent<HTMLInputElement>) => {\n        setInputValue(e.currentTarget.value)\n    }\n\n    const checkToken = () => {\n        token.value = inputValue\n        token.validate()\n\n        setTokenMessage(!token.valid)\n\n        if (token.valid) {\n            setToken(token)\n            socket.emit(\"message\", token.value);\n        }\n    }\n\n    const cleanToken = () => {\n        setInputValue('')\n        setToken(new Token())\n\n        socket.disconnect()\n    }\n\n    return (\n        <>\n            <input type=\"text\" value={inputValue} onChange={handleInputChange}/>\n\n            <div className=\"btn-group\">\n                <button className={'btn btn-primary waves-effect waves-light'} onClick={checkToken}>Lookup</button>\n                <button className={'btn btn-info waves-effect waves-light'} onClick={cleanToken}>Clean</button>\n            </div>\n            \n            <Message show={tokenMessage} message={'The entry token is not a valid ECR20 token'} type={'error'}/>\n        </>\n    )\n}\n\nexport default Balance\n"]},"metadata":{},"sourceType":"module"}